---
creation_date: 2026-01-15 15:30
type: #Type/Workflow
status: #Status/Active
tags: [Claude_Code, Collaboration, Workflow]
aliases: [协作流程, 工作流]
tech_stack: #Tech/Claude_Code
complexity: ⭐⭐⭐
related_modules: [Skill, Obsidian笔记整理Skill]
---

# Claude Code 协作工作流

## 核心摘要

通过 Skill 定义和 CLAUDE.md 项目规则，建立与 Claude Code 的高效协作模式，实现"对话即命令，命令即执行"的无缝工作流。

---

## 协作模型

### 传统 AI 协作 vs Claude Code Skill 协作

```
传统模式：
你: "帮我做 X"
AI: [返回文本建议]
你: [复制、手动执行、验证]
你: "还需要做 Y"
AI: [返回文本建议]
你: [复制、手动执行、验证]
...
→ 循环往复，效率低下

Skill 模式：
你: "帮我做 X"
Claude: [理解意图，调用对应 Skill]
Claude: [自动执行，生成结果]
Claude: "X 已完成，结果在 {path}"
→ 一步到位，全自动化
```

---

## 协作层次

### Level 1: 对话式协作（基础）

**特点**：每次都要详细描述需求

```
你: "帮我整理本周的学习笔记，按照 C++、UE5、编译系统分类，
     提取关键概念，生成总结，创建双向链接，更新月度进度"

Claude: [执行一系列操作]
```

**优点**：灵活，可以随时调整
**缺点**：重复劳动，容易遗漏步骤

---

### Level 2: Skill 驱动协作（进阶）

**特点**：预定义工作流，一键触发

```
你: /weekly-summary

Claude: [自动执行预定义的完整流程]
```

**优点**：标准化，高效，不会遗漏
**缺点**：需要前期投入时间定义 Skill

---

### Level 3: 智能协作（高级）

**特点**：Claude 主动理解意图，自动匹配 Skill

```
你: "这周学了好多东西，帮我总结一下"

Claude: [识别到这是周总结任务]
Claude: [自动调用 weekly-summary skill]
Claude: "本周总结已生成：Weekly-2026-W03.md"
```

**优点**：自然交互，无需记忆命令
**缺点**：需要良好的 Skill 命名和描述

---

### Level 4: 自动化协作（专家）

**特点**：基于条件和时间自动触发

```yaml
# 在 SKILL.md 中定义
Trigger:
  - Schedule: 每天 23:00
  - Condition: 今天有新建笔记

Action:
  - 运行 /organize-daily
  - 如果是周日，运行 /weekly-summary
  - 生成报告并通知
```

**优点**：完全自动化，无需人工介入
**缺点**：需要精心设计触发条件

---

## 实战协作场景

### 场景 1：每日学习协作流

#### 上午（学习时）

**你的工作**：
- 专注学习和做笔记
- 快速记录要点，不必在意格式

**Claude 的工作**：
- 待命，随时回答问题
- 提供代码示例和解释

**对话示例**：

```
你: "讲解一下 C++ 的移动语义"

Claude: [提供详细解释]

你: "给我写个示例代码"

Claude: [生成代码]

你: "编译运行一下，并保存到今天的笔记"

Claude: [自动执行]
  1. 创建 26-01-15/移动语义_demo.cpp
  2. 编译
  3. 运行
  4. 生成实验报告
  5. 保存
```

**结果**：
- 你只需提出需求
- Claude 自动执行全流程
- 所有结果自动归档

---

#### 晚上（整理时）

**你的工作**：
- 运行一条命令：`/organize-daily`

**Claude 的工作**：
```
1. 扫描今天的所有笔记
2. 提取关键概念：
   - 移动语义
   - 右值引用
   - std::move
3. 提取 TODO 状态：
   - 已完成：3 项
   - 未完成：1 项（迁移至明日）
4. 生成今日总结
5. 创建双向链接
6. 更新学习进度
```

**输出**：
- `Daily-Summary-2026-01-15.md` - 今日总结
- 明天的 daily note 中已添加未完成任务
- 周进度文件已更新

**时间投入**：
- 你：5 秒（运行一条命令）
- Claude：30 秒（自动处理）
- 总计：35 秒

如果手动做：至少 15-30 分钟

---

### 场景 2：周末回顾协作流

#### 周日晚上

**你的工作**：
- 运行：`/weekly-workflow`（或 `/weekly-summary`）

**Claude 的工作流**：

```
1. 确认本周范围：2026-01-13 至 2026-01-19

2. 扫描本周笔记：
   ✓ 找到 15 篇笔记
   ✓ C++ 相关：6 篇
   ✓ UE5 相关：5 篇
   ✓ 编译系统：3 篇
   ✓ 其他：1 篇

3. 提取关键概念：
   - C++：移动语义、智能指针、虚函数、模板特化
   - UE5：Actor生命周期、Component系统、蓝图通信
   - 编译：PE文件结构、链接过程

4. 生成周总结：
   ✓ 创建 Weekly-2026-W03.md
   ✓ 分类整理所有笔记
   ✓ 提取核心收获
   ✓ 生成统计数据

5. 创建双向链接：
   ✓ 在周总结中链接原始笔记
   ✓ 在原始笔记中添加反向链接

6. 更新月度进度：
   ✓ 更新 Monthly-Progress-2026-01.md
   ✓ 累积本周学习数据

7. 生成下周计划：
   基于学习路径.md 提出建议
```

**输出**：
- `Weekly-2026-W03.md` - 本周总结（约 500-1000 字）
- `Monthly-Progress-2026-01.md` - 月度进度更新
- 15 个双向链接已创建
- 下周学习建议

**时间投入**：
- 你：5 秒（运行命令）+ 5 分钟（阅读总结）
- Claude：1-2 分钟（自动处理）
- 总计：约 7 分钟

如果手动做：至少 1-2 小时

**效率提升**：约 10 倍

---

### 场景 3：月度大扫除协作流

#### 每月初（月初第一天）

**你的工作**：
- 运行：`/monthly-cleanup`

**Claude 的工作流**：

```
1. 格式检查：
   /format-notes --mode check
   ✓ 扫描 150 篇笔记
   🔴 发现 2 个严重问题
   🟡 发现 5 个警告

2. 询问是否修复：
   "发现 7 个格式问题，是否自动修复？(y/n)"

3. 自动修复（用户确认后）：
   ✓ 备份到 .claude/backups/2026-01-01/
   ✓ 修复 2 个严重问题
   ✓ 修复 5 个警告
   ✓ 生成修复报告

4. 知识图谱更新：
   /build-graph
   ✓ 分析 150 篇笔记
   ✓ 识别 30 个核心概念
   ✓ 生成 6 个主题 MOC
   ✓ 更新学习路径推荐

5. 月度总结生成：
   /monthly-summary
   ✓ 汇总 4 周的周总结
   ✓ 统计学习数据
   ✓ 生成月度报告
   ✓ 提出下月目标

6. 清理冗余文件：
   ✓ 删除临时文件
   ✓ 归档旧备份
   ✓ 优化目录结构
```

**输出**：
- `Format-Check-Report.md` - 格式检查报告
- `KnowledgeGraph-2026-01.md` - 知识图谱
- 6 个 MOC 文件（C++、UE5、编译系统等）
- `Monthly-Summary-2026-01.md` - 月度总结
- 清理了约 50MB 的冗余文件

**时间投入**：
- 你：5 秒（运行命令）+ 15 分钟（确认和阅读）
- Claude：5-10 分钟（自动处理）
- 总计：约 20 分钟

如果手动做：至少 3-4 小时

**效率提升**：约 10 倍

---

### 场景 4：实时学习协作

#### 学习新概念时的无缝协作

```
你: "我想学习 UE5 的 Gameplay Framework"

Claude:
  1. 检测到学习需求
  2. 查找相关笔记：
     ✓ 找到 [[Actor]]
     ✓ 找到 [[Pawn]]
     ✓ 找到 [[Controller]]
  3. 生成学习路径：
     "建议按以下顺序学习：
      1. Actor（基础）
      2. Pawn（可控制的 Actor）
      3. Controller（控制逻辑）
      4. GameMode（游戏规则）"
  4. 提供当前建议：
     "你已经学过 [[Actor]]，建议先复习，
      然后学习 [[Pawn]]"

你: "好的，给我生成一个 Pawn 的示例代码"

Claude:
  1. 生成 MyPawn.h 和 MyPawn.cpp
  2. 创建文件到 26-01-15/UE5/
  3. 生成详细注释
  4. 提供使用说明

你: "帮我记录到笔记中"

Claude:
  1. 创建 26-01-15/Pawn详解.md
  2. 使用标准 frontmatter 格式
  3. 包含代码示例
  4. 添加到 [[Actor]] 的关联
  5. 更新知识图谱

你: "明天提醒我继续学习 Controller"

Claude:
  1. 在明天的 daily note 中添加 TODO
  2. 标注优先级
  3. 添加前置知识链接
```

**全程无缝**：
- 不需要切换工具
- 不需要手动创建文件
- 不需要记忆格式
- 自动建立知识关联

---

## 协作原则

### 1. 明确分工

**你负责**：
- 🧠 思考和学习（高价值工作）
- 🎯 设定目标和方向
- ✅ 决策和确认

**Claude 负责**：
- 🤖 执行重复性任务
- 📝 整理和归档
- 🔗 建立知识关联
- 📊 生成报告和统计

### 2. 渐进式自动化

```
第一周：
- 手动运行 Skill
- 熟悉每个 Skill 的功能

第二周：
- 创建简单的 Skill 组合
- 减少重复命令

第三周：
- 建立每日/每周例行流程
- 使用 meta-skill

第四周+：
- 基于条件自动触发
- 完全自动化
```

### 3. 信任但验证

**信任**：
- 让 Claude 自动执行标准流程
- 不要每一步都人工检查

**验证**：
- 定期检查输出质量
- 及时调整 Skill 定义
- 保留重要操作的确认步骤

### 4. 持续优化

```
每周评估：
- 哪些任务可以自动化？
- 哪些 Skill 可以改进？
- 有没有新的协作模式？

每月总结：
- 自动化节省了多少时间？
- 工作流是否顺畅？
- 下个月的优化目标？
```

---

## 协作配置

### 1. CLAUDE.md 项目规则

在项目根目录创建 `CLAUDE.md`，定义协作规则：

```markdown
# Claude 协作规则

## 笔记格式规范
- 所有笔记使用 YAML frontmatter
- 必需字段：creation_date, type, tags
- 文档结构：核心摘要 → 详细分析 → 关联知识

## 目录结构
- 日期文件夹：YY-MM-DD/
- 主题文件夹：C++/, UE/, 编译/, 设计模式/
- 总结文件夹：Summaries/

## 命名规范
- 概念笔记：驼峰命名，如 虚函数.md
- 实验报告：主题_实验报告.md
- 周总结：Weekly-YYYY-Wxx.md

## 自动化偏好
- 每日整理：23:00 自动运行
- 周总结：周日晚上手动触发
- 格式检查：每月初自动运行
```

### 2. .claude/config.json 全局配置

```json
{
  "project_name": "C++ 和 UE5 学习笔记",
  "vault_root": "C:/1.HYFStudy/OB/C++/c++/",

  "skills": {
    "weekly-summary": {
      "enabled": true,
      "default_topics": ["C++", "UE5", "编译系统", "设计模式"],
      "create_backlinks": true,
      "update_monthly": true
    },
    "daily-organizer": {
      "enabled": true,
      "schedule": "23:00",
      "auto_migrate_todos": true
    },
    "note-formatter": {
      "enabled": true,
      "auto_backup": true,
      "severity_levels": ["critical", "warning"]
    },
    "knowledge-graph": {
      "enabled": true,
      "min_links": 2,
      "include_orphans": false,
      "update_frequency": "monthly"
    }
  },

  "permissions": {
    "global": {
      "read": "allow",
      "write": "prompt"
    },
    "safe_directories": [
      "Summaries/",
      "26-*/",
      ".claude/"
    ]
  },

  "notifications": {
    "skill_completion": true,
    "daily_summary": true,
    "weekly_summary": true
  }
}
```

### 3. 个人偏好设置

```json
{
  "learning_style": {
    "prefer_examples": true,
    "detail_level": "deep",
    "code_comments": "detailed"
  },

  "automation_level": {
    "daily_tasks": "full",
    "weekly_tasks": "semi",
    "monthly_tasks": "manual"
  },

  "output_preferences": {
    "language": "zh-CN",
    "date_format": "YYYY-MM-DD",
    "link_style": "[[wikilink]]"
  }
}
```

---

## 协作效率对比

### 手动 vs 自动化

| 任务 | 手动耗时 | 自动化耗时 | 节省时间 | 效率提升 |
|------|---------|-----------|---------|---------|
| 每日笔记整理 | 15-30 分钟 | 35 秒 | 14-29 分钟 | 25-50x |
| 周总结生成 | 1-2 小时 | 7 分钟 | 53-113 分钟 | 8-17x |
| 格式检查 | 30-60 分钟 | 5 分钟 | 25-55 分钟 | 6-12x |
| 知识图谱 | 2-3 小时 | 10 分钟 | 110-170 分钟 | 12-18x |
| **每周总计** | **4-6 小时** | **约 30 分钟** | **3.5-5.5 小时** | **8-12x** |

### 月度时间节省

```
每周节省：3.5-5.5 小时
每月节省：14-22 小时（约 2-3 个工作日）
每年节省：168-264 小时（约 21-33 个工作日）
```

**结论**：每年节省约 1 个月的时间！

---

## 最佳协作实践

### ✅ 高效协作的秘诀

1. **建立肌肉记忆**
   - 每天固定时间运行 `/organize-daily`
   - 每周日晚上运行 `/weekly-summary`
   - 形成习惯，不需要思考

2. **保持 Skill 简洁**
   - 一个 Skill 只做一件事
   - 复杂任务通过组合实现
   - 易于理解和维护

3. **及时反馈优化**
   - 发现问题立即修正 Skill
   - 记录改进想法
   - 定期迭代升级

4. **信任自动化**
   - 不要过度检查
   - 相信 Skill 的执行结果
   - 把时间用在高价值工作上

5. **主动沟通**
   - 清晰表达需求
   - 及时给 Claude 反馈
   - 提出改进建议

### ❌ 避免的陷阱

1. **过度自动化**
   - 不是所有任务都适合自动化
   - 保留思考和决策的部分

2. **忽视维护**
   - Skill 需要随需求演进
   - 定期检查和更新

3. **完美主义**
   - 不要追求 100% 完美的 Skill
   - 80% 自动化 > 0% 自动化

4. **孤岛工作**
   - 与他人分享你的 Skill
   - 学习社区的最佳实践

---

## 协作演进路径

### 第一阶段：建立信任（第 1 周）

- 从最简单的 Skill 开始
- 手动验证每个输出
- 熟悉 Claude 的工作方式

### 第二阶段：提升效率（第 2-4 周）

- 使用完整的 Skill 套件
- 减少人工干预
- 建立每日/每周例行流程

### 第三阶段：深度协作（第 2-3 月）

- 创建个性化 Skill
- Skill 组合和链式调用
- 半自动化工作流

### 第四阶段：完全自动化（第 3+ 月）

- 基于条件和时间触发
- 无需人工启动
- 只需查看结果和决策

---

## 总结

### 核心理念

**Claude 不是工具，是协作伙伴**

传统 AI：工具思维 → "你帮我做 X"
Claude Code Skill：伙伴思维 → "我们一起完成 X"

### 协作分工

```
你专注：
  🧠 思考
  🎯 决策
  💡 创造

Claude 专注：
  🤖 执行
  📝 整理
  📊 统计
```

### 价值主张

**时间节省**：每月节省 14-22 小时
**质量提升**：标准化流程，减少错误
**心智解放**：不再为琐事分心
**持续改进**：工作流不断优化

---

## 下一步行动

### 立即开始（今天）

1. ✅ 创建 `.claude/` 目录结构
2. ✅ 部署第一个 Skill（推荐：`daily-organizer`）
3. ✅ 今晚运行 `/organize-daily`

### 本周目标（第 1 周）

1. ✅ 熟悉 4 个核心 Skill
2. ✅ 建立每日整理习惯
3. ✅ 周日运行 `/weekly-summary`

### 本月目标（第 1 月）

1. ✅ 创建 2-3 个个性化 Skill
2. ✅ 优化工作流程
3. ✅ 月末运行 `/monthly-cleanup`

### 长期目标（3+ 月）

1. ✅ 完全自动化日常任务
2. ✅ 建立个人知识体系
3. ✅ 分享经验给社区

---

## 相关资源

- [[Skill]] - Skill 完整指南
- [[Obsidian笔记整理Skill]] - 实用 Skill 套件
- [[Skill快速入门]] - 5 分钟上手
- [[Claude_Code使用理由_针对你的场景]] - 为什么要用

---

**开始你的高效协作之旅吧！** 🚀
