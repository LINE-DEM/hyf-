## ä½ å¥½ç™½æ¿2

è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç™½æ¿ç¬”è®°ï¼Œä¸­é—´å†™ä¸Šâ€œä½ å¥½â€ã€‚

```mermaid
graph TD
    %% é¡¶å±‚åŸºç±»å±‚ - å†…å­˜ç®¡ç†ä¸åå°„æ ¹
    UObjectBase["<b>UObjectBase</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ vfptr (è™šè¡¨æŒ‡é’ˆ)<br/>â€¢ InternalIndex (å¯¹è±¡ç´¢å¼•)<br/>â€¢ ClassPrivate (UClass*)<br/>â€¢ OuterPrivate (æ‰€æœ‰è€…æŒ‡é’ˆ)"]
    
    UObjectBaseUtility["<b>UObjectBaseUtility</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ æ ‡è®°ä½æ“ä½œ (Flags)<br/>â€¢ åç§°æŸ¥è¯¢ (Name API)"]
    
    UObject["<b>UObject</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ”´ <b>GC æ ¹ç±» - æ‰€æœ‰åå°„å¯¹è±¡åŸºç±»</b><br/>â€¢ MarkPendingKill()<br/>â€¢ PostLoad() / Serialize()<br/>â€¢ CallFunction() - åå°„è°ƒç”¨<br/>â€¢ ProcessEvent() - è“å›¾äº‹ä»¶åˆ†å‘"]

    %% æ ¸å¿ƒåå°„å…ƒæ•°æ®å±‚
    UField["<b>UField</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ”µ <b>åå°„å…ƒæ•°æ®é“¾è¡¨èŠ‚ç‚¹</b><br/>â€¢ Next (é“¾è¡¨æŒ‡é’ˆ)"]
    
    UStruct["<b>UStruct</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ SuperStruct (çˆ¶ç±»æŒ‡é’ˆ)<br/>â€¢ Children (å­—æ®µé“¾è¡¨å¤´)<br/>â€¢ PropertyLink (å±æ€§è¿­ä»£é“¾)<br/>â€¢ <i>CDO å­˜å‚¨åœ¨æ­¤</i>"]
    
    UClass["<b>UClass</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸŸ¢ <b>ç±»å‹ä¿¡æ¯ä¸­å¿ƒ</b><br/>â€¢ ClassDefaultObject (CDO*)<br/>â€¢ ClassConstructor (å·¥å‚å‡½æ•°)<br/>â€¢ ClassFlags (RF_MarkAsNativeç­‰)<br/>â€¢ Interfaces (æ¥å£åˆ—è¡¨)"]
    
    UFunction["<b>UFunction</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ Func (åŸç”Ÿå‡½æ•°æŒ‡é’ˆ)<br/>â€¢ ParmsSize (å‚æ•°æ ˆå¤§å°)<br/>â€¢ Script (è“å›¾å­—èŠ‚ç )"]
    
    UScriptStruct["<b>UScriptStruct</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ StructFlags<br/>â€¢ ç”¨äº USTRUCT() å®"]

    %% æ¸¸æˆæ¡†æ¶å±‚ - Actor ä½“ç³»
    AActor["<b>AActor</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸŸ¡ <b>åœºæ™¯å®ä½“åŸºç±»</b><br/>â€¢ RootComponent (åœºæ™¯æ ¹)<br/>â€¢ Tick() / BeginPlay()<br/>â€¢ Owner / Instigator<br/>â€¢ Transform ç”± RootComponent æŒæœ‰"]
    
    APawn["<b>APawn</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ Controller (æ§åˆ¶å™¨)<br/>â€¢ å¯è¢« Possess / Unpossess"]
    
    ACharacter["<b>ACharacter</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ CharacterMovement ç»„ä»¶<br/>â€¢ CapsuleComponent (ç¢°æ’)<br/>â€¢ Mesh (éª¨éª¼ç½‘æ ¼)"]
    
    AController["<b>AController</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ Pawn (å½“å‰æ§åˆ¶ç›®æ ‡)"]
    
    APlayerController["<b>APlayerController</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ PlayerCameraManager<br/>â€¢ InputComponent"]
    
    AAIController["<b>AAIController</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ BrainComponent (è¡Œä¸ºæ ‘)"]
    
    AGameModeBase["<b>AGameModeBase</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ DefaultPawnClass<br/>â€¢ PlayerControllerClass"]
    
    AInfo["<b>AInfo</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ ä¸å¯è§çš„ä¿¡æ¯ Actor"]
    
    AGameStateBase["<b>AGameStateBase</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ å¤åˆ¶æ¸¸æˆçŠ¶æ€ç»™å®¢æˆ·ç«¯"]

    %% ç»„ä»¶å±‚ - ç±»ä¼¼ Unity GameObject/Component æ¨¡å‹
    UActorComponent["<b>UActorComponent</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸŸ£ <b>ç»„ä»¶åŸºç±» (ç±» Unity Component)</b><br/>â€¢ GetOwner() â†’ AActor*<br/>â€¢ ComponentTags<br/>â€¢ bWantsInitializeComponent"]
    
    USceneComponent["<b>USceneComponent</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸŸ  <b>å¸¦ Transform çš„ç»„ä»¶</b><br/>â€¢ RelativeLocation/Rotation/Scale<br/>â€¢ AttachParent (ç»„ä»¶æ ‘)<br/>â€¢ GetComponentTransform()"]
    
    UPrimitiveComponent["<b>UPrimitiveComponent</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ”´ <b>å¯æ¸²æŸ“/å¯ç¢°æ’ç»„ä»¶</b><br/>â€¢ SceneProxy (FPrimitiveSceneProxy*)<br/>â€¢ BodyInstance (ç‰©ç†)<br/>â€¢ OverlapEvents"]
    
    UMeshComponent["<b>UMeshComponent</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ Materials[] (æè´¨æ§½)<br/>â€¢ OverrideMaterials"]
    
    UStaticMeshComponent["<b>UStaticMeshComponent</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ StaticMesh (UStaticMesh*)"]
    
    USkeletalMeshComponent["<b>USkeletalMeshComponent</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ¨ <b>åŠ¨ç”»æ¸²æŸ“æ ¸å¿ƒ</b><br/>â€¢ SkeletalMesh (éª¨éª¼èµ„äº§)<br/>â€¢ AnimInstance (UAnimInstance*)<br/>â€¢ MasterPoseComponent (ä¸»å§¿æ€ç»„ä»¶)"]

    %% èµ„æº/èµ„äº§å±‚
    UTexture["<b>UTexture</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ PlatformData (çº¹ç†æ•°æ®)<br/>â€¢ LODGroup"]
    
    UTexture2D["<b>UTexture2D</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ Mips[] (Mipmap é“¾)"]
    
    UMaterialInterface["<b>UMaterialInterface</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ GetRenderProxy()"]
    
    UMaterial["<b>UMaterial</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ MaterialGraph (èŠ‚ç‚¹å›¾)"]
    
    UMaterialInstance["<b>UMaterialInstance</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ Parent (æè´¨çˆ¶ç±»)<br/>â€¢ ParameterOverrides"]
    
    UStaticMesh["<b>UStaticMesh</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ RenderData (é¡¶ç‚¹/ç´¢å¼•ç¼“å†²)<br/>â€¢ LODResources[]"]
    
    USkeletalMesh["<b>USkeletalMesh</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ Skeleton (USkeleton*)<br/>â€¢ MeshImportData"]

    %% åŠ¨ç”»ç³»ç»Ÿ (å¯¹åº” Unity Playable)
    UAnimInstance["<b>UAnimInstance</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ­ <b>åŠ¨ç”»çŠ¶æ€æœº (ç±» Playable Graph)</b><br/>â€¢ NativeUpdateAnimation()<br/>â€¢ AnimGraph (è“å›¾åŠ¨ç”»èŠ‚ç‚¹æ ‘)"]
    
    UAnimSequenceBase["<b>UAnimSequenceBase</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ SequenceLength<br/>â€¢ GetAnimationPose()"]
    
    UAnimSequence["<b>UAnimSequence</b><br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>â€¢ CompressedData (å‹ç¼©æ›²çº¿)<br/>â€¢ RawAnimationData"]

    %% ç»§æ‰¿å…³ç³»
    UObjectBase --> UObjectBaseUtility
    UObjectBaseUtility --> UObject
    
    UObject --> UField
    UField --> UStruct
    UStruct --> UClass
    UStruct --> UFunction
    UStruct --> UScriptStruct
    
    UObject --> AActor
    UObject --> UActorComponent
    UObject --> UTexture
    UObject --> UMaterialInterface
    UObject --> UStaticMesh
    UObject --> USkeletalMesh
    UObject --> UAnimSequenceBase
    UObject --> UAnimInstance
    
    AActor --> APawn
    AActor --> AController
    AActor --> AGameModeBase
    AActor --> AInfo
    APawn --> ACharacter
    AController --> APlayerController
    AController --> AAIController
    AInfo --> AGameStateBase
    
    UActorComponent --> USceneComponent
    USceneComponent --> UPrimitiveComponent
    UPrimitiveComponent --> UMeshComponent
    UMeshComponent --> UStaticMeshComponent
    UMeshComponent --> USkeletalMeshComponent
    
    UTexture --> UTexture2D
    UMaterialInterface --> UMaterial
    UMaterialInterface --> UMaterialInstance
    UAnimSequenceBase --> UAnimSequence
    
    style UObject fill:#ff6b6b,stroke:#333,stroke-width:3px
    style UClass fill:#51cf66,stroke:#333,stroke-width:3px
    style AActor fill:#ffd43b,stroke:#333,stroke-width:3px
    style UActorComponent fill:#a78bfa,stroke:#333,stroke-width:3px
    style USceneComponent fill:#fb923c,stroke:#333,stroke-width:3px
    style UPrimitiveComponent fill:#f43f5e,stroke:#333,stroke-width:3px
    style USkeletalMeshComponent fill:#ec4899,stroke:#333,stroke-width:3px
    style UAnimInstance fill:#8b5cf6,stroke:#333,stroke-width:3px
```
